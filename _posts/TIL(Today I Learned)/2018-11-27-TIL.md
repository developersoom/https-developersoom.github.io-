---
layout: post
title: 181127 TIL Lec4 array parser step5 && ì•Œê³ ë¦¬ì¦˜ ìŠ¤í„°ë””(íŒ€ì½”ë”©)
category: TIL (Today I Learned)
permalink: /til/:year/:month/:day/:title/
tags: [TIL]
comments: true
---

## array parser step5 ìˆ˜ì •
- PRì€ ë‚ ë ¸ì§€ë§Œ ì•„ì£¼ ë”ì°í•œ ë¶„ê¸°ë¬¸ì˜ ë‚˜ì—´ì´ì—ˆë‹¤.

![image](https://user-images.githubusercontent.com/40848630/49169304-d6cc2f00-f37c-11e8-9c10-16bd5e1954c8.png)

- ì¹œì ˆí•˜ì‹  í¬ë¡±ê»˜ì„œ ì¹œíˆ ìˆ˜ì •ì„ í•´ì£¼ì…¨ë‹¤!!
(~~ì•„ë§ˆ ë‚´ê°€ ë„ˆë¬´ë‚˜ ë„ˆë¬´ë‚˜ ì£½ìƒì„ í•˜ê³  ìˆì–´ì„œ í¬ê¸°í• ê¹Œë´(?) ë„ì™€ì£¼ì‹  ê²Œ ì•„ë‹ì§€...~~)

![image](https://user-images.githubusercontent.com/40848630/49169432-12ff8f80-f37d-11e8-88fb-3efad8dd4e1d.png)


![image](https://user-images.githubusercontent.com/40848630/49169531-47734b80-f37d-11e8-891e-b6190cbd2fc1.png)

![image](https://user-images.githubusercontent.com/40848630/49169464-2874b980-f37d-11e8-9f07-904f3dd1d72f.png)

- ê°ì²´ í™œìš©í•´ì„œ í•¨ìˆ˜ ë¶ˆëŸ¬ì“°ëŠ” ë°©ë²•ì„ ì—°ìŠµí•˜ê³  ì‹¶ë‹¤. ë­”ê°€ í•¨ìˆ˜ ì•ˆì—ì„œ ê°ì²´ value ê°’ ë¶ˆëŸ¬ì˜¤ê³  ê·¸ëŸ¬ëŠ”ê±°.. ê²ë‚˜ ë©‹ì ¸... 

<br><br>

## ì•Œê³ ë¦¬ì¦˜ ìŠ¤í„°ë””(íŒ€ì½”ë”©)
- ì¼ì£¼ì¼ì— í•˜ë£¨ëŠ” javascript30ì„ ë”°ë¼í•´ë³´ê³  ì•ˆ ë³´ê³  íŒ€ì½”ë”©ìœ¼ë¡œ ì§œë³´ëŠ” ì‹œê°„ì„ ê°€ì ¸ë³´ê¸°ë¡œ í–ˆë‹¤. 

- ì´ë²ˆ í”„ë¡œì íŠ¸: [#6 - Ajax Type Ahead](https://courses.wesbos.com/account/access/5bf3c9d4451ee255183f0675/view/194130156)

- ì½”ë“œ: [wesbos/JavaScript30/06 - Type Ahead/](https://github.com/wesbos/JavaScript30/tree/master/06%20-%20Type%20Ahead)

- ë°©ì‹: 3ëª…(w/ ë‹¬ë¦¬&ë¹„ì„¼ìŠ¤)ì´ì„œ 10ë¶„ì”© ëŒì•„ê°€ë©´ì„œ ì™„ì„±í•˜ê¸° (~~ì´ 1ì‹œê°„ 20ë¶„ ê±¸ë¦°ê±´ ë¹„ë°€~~)

1. ì„¤ê³„

![image](https://user-images.githubusercontent.com/40848630/49170027-8950c180-f37e-11e8-8491-c7095bf66206.png)

2. ì½”ë“œ

```html
<!DOCTYPE html>
<html lang="en">
<head>
  <meta charset="UTF-8">
  <title>Type Ahead ğŸ‘€</title>
  <link rel="stylesheet" href="styles.css">
</head>
<body>

  <form class="search-form">
    <input type="text" class="search" placeholder="City or State">
    <ul class="suggestions">
      <li>Filter for a city</li>
      <li>or a state</li>
    </ul>
  </form>
<script>
function numberWithCommas(x) {
  return x.toString().replace(/\B(?=(\d{3})+(?!\d))/g, ',');
}
const endpoint = 'https://gist.githubusercontent.com/Miserlou/c5cd8364bf9b2420bb29/raw/2bf258763cdddd704f8ffd3ea9a3e81d25e2c6f6/cities.json';
let cities = [];
const load = (url)=>{
    fetch(url)
    .then(blob=>blob.json())
    .then(json=> cities.push(...json))
    .then(()=>{
        console.log(findMatches('bos', cities))
    })
}
load(endpoint);
function findMatches(wordToMatch, cities){
    return cities.filter((place) => {
        const regex = new RegExp(wordToMatch, "gi")
        const {city, state} = place 
        return city.match(regex)||state.match(regex)    //
    })
}
function displayMatches(){
    const matchArray = findMatches(this.value, cities);
    const html = matchArray.reduce((arr, city) => {
        const cityName = city.city;
        const population = numberWithCommas(city.population);
        const regex = new RegExp(this.value, "gi")
        const name = cityName.replace(regex, `<span class="hl">${this.value}</span>`);
        arr += 
        `
            <li>
                <span>${name}</span>
                <span>${population}</span>
            </li>
        `
        return arr;
    }, '');
    suggestions.innerHTML = html;
    // valueë¥¼ ë‹´ì„ ë¬´ì–¸ê°€ê°€ í•„ìš”.
    // input valueì™€ cities ì •ë³´ê°„ì˜ ë§¤ì¹­ì„ ìœ„í•œ ì‘ì—…
    // suggetions ì— ì ‘ê·¼í•´ì„œ ê·¸ë¦°ë‹¤.
}
const searchInput = document.querySelector('.search');
const suggestions = document.querySelector('.suggestions');
searchInput.addEventListener("change", displayMatches);
searchInput.addEventListener("keyup", displayMatches);
// console.log(cities)
// fetch(endpoint)
//     .then((blob) => blob.json())
//     .then((data) =>{
//         cities = data;
//         console.dir(cities)
//         findMatches('s',cities)
//     } );
</script>
  </body>
</html>
```

- ëŠë‚€ì : ìŠ¤í„°ë”” ì „ì— ë”°ë¼í•´ë³´ê¸´ í–ˆì§€ë§Œ ì™¸ìš°ëŠ” ê²Œ ì˜ë¯¸ê°€ ìˆë‚˜ ì‹¶ì–´ì„œ(...) ì¼ë‹¨ ë¶„ìœ„ê¸° ë³´ì(?)ëŠ” ëŠë‚Œìœ¼ë¡œ ë“¤ì–´ê°”ëŠ”ë°, íŒ€ì½”ë”©ìœ¼ë¡œ í•˜ë©´ì„œ ì—„ì²­ë‚˜ê²Œ í›„íšŒí–ˆë‹¤. ëª»í•˜ë©´ ì™¸ì›Œë¼ë„ ì™”ì—ˆì•¼ í–ˆëŠ”ë°... í‘í‘. ë‹¤ìŒì£¼ë¶€í„´ ì™¸ì›Œì˜¬ê±°ì•¼... 

- ìƒˆë¡œ ì•Œê²Œëœ ì : <br>
    1. fetch API
    2. promise
    3. then
    4. reduce.. ì•„ì§ë„ ì˜ ëª»ì“°ëŠ” ë‚˜ ìì‹  ë°˜ì„±í•˜ì..  